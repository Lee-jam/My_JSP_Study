# 230403 JSP
JSP 란 Jakarta Server Page 혹은 Java Server Page의 약자로, 서버 사이드의 스크립트 언어이다.
## 📄 웹 어플리케이션의 이해
---
### 1. 구성요소
    - 클라이언트 사이드 : 사용자의 웹프라우저에서 실행
    - 서버 사이드 : 서버, 응용 프로그램 공급자 컴퓨터에서 실행  


Web Server : 클라이언트로부터 HTTP 요청을 받아들이고 HTML문서와 같은 웹페이지에 반응
WAS Server : HTTP를 통해 사용자 컴퓨터나 장치에 어플리케이션을 수행해주는 미들웨어로 크게 아래와 같은 역할을 수행함.
```
1) 응용 프로그램과 데이터베이스와의 원활한 접속 및 처리
2) 여러 개의 트랜잭션에 대한 원활한 관리
3) 비즈니스 로직 수행
```

<br>

### 2. 요청(Request)과 응답(Response)
> Request 란 클라이언트가 서버에 어떠한 정보,서비스를 요구하는 것

Request 에는 Get방식과 Post방식이 있음.  
Get 방식
```
사용자가 선택한 정보가 URL창에 노출되어도 상관이 없으면 데이터의 보안수준이 낮을 경우 Get방식을 사용
 - 사용자의 중요한 정보가 노출
 - 파라미터의 길이에 제한이 있어 너무 많은 양의 데이터를 넘기기는 힘듬.
 - 즐겨찾기에 추가 시킬 때 적합
ex)
http://search.daum.net/search?w=tot&q=서울
```
Post방식
```
URL창에 노출되지 않기를 원하거나 데이터 보안수준이 높을 경우 Post 방식을 사용
- 사용자의 요청 정보를 body안에 포함해서 서버에 전달하는 방식
- 사용자 정보의 노출을 피할 수 있음.
- 보내는 데이터의 길이와 개수에 제한이 없음.
- 데이터가 반복적으로 들어가지 않음.
```
> Response 란 클라이언트가 요구한 정보나 서비스에 대한 결과를 클라이언트에게 HTML 형식으로 전송하는 것을 말함.

## 🐱톰캣을 이용한 WAS 구성
---
1. tomcat 설치 (tomcat 9 버전이 예문과 사용이 많아 tomcat 9를 사용하여 공부)
    ```
    zip 파일로 받았으면 내가 찾기 편하거나 tool을 모아둔 장소에 압축을 해제
    ```
2. Eclipse에서 new Server를 통해 내가 설치한 버전에 맞는 서버를 추가하면 WAS 사용 환경 구성
3. Resources 패키지 폴더에는 자바 파일이 들어감  


### 👍 구성 시 Tip 
---
```
일반 src 폴더 안에 있는 webapp에 JSP나 서블릿 파일이 들어감.

JSP 파일을 구축하기 전 Preferences 에 들어가 jsp파일과 html, css 등 인코딩 방식을 UTF-8로 바꿔주어야 함.  

포트 번호가 사용하고 있거나 서버가 실행이 안될 때 Context root를 확인해서 변경해주거나 포트 번호를 사용하고 있는 프로그램이 어떤 것인지 확인 후 cmd 를 통해 taskkill로 사용 포트를 죽일 수 있음.
```
**context root** 란 WAS에서 웹 애플리케이션을 구분하기 위한 경로

<br>

## 서블릿과 JSP의 차이
---
서블릿 : 자바 코드를 이용한 웹 어플리케이션 개발을 위해 만든 표준 규약
장점
```
순수 자바 코드로 되어 있어 자바를 사용해본 개발자라면 별다른 어려움 없이 숙지가 가능
자바로 구현되어 있어 플랫폼에 독립적(JVM이 있기 때문)
클라이언트의 요청마다 스레드로 응답하기 때문에 가벼움
```
단점
```
자바를 모르면 서블릿을 사용할 수 없고 까다로움.
HTML 태그를 ""안에 작성하므로 태그 구현이 까다로움.
화면에 출력되어지는 일부분을 수정하더라도 클래스 자체를 수정하여 다시 컴파일 시키고 메모리에 load하는 과정을 반복해야 함.
```

JSP : 프로그램 언어가 아닌 스크립트 언어로 미리 약속된 규정에 따라 입력하면 그 명령에 대한 내부에 있는 코드로 자동 변환되어 자바와 같이 컴파일을 사용자가 돌리는 것이 아니라 실행하는 과정 중에 웹 브라우저나 WAS와 같은 것에서 자동으로 컴파일을 시켜주므로 빠른 시간에 간단하게 프로그래밍을 할 수 있음.
장점
```
플랫폼에 독립적
서블릿보다 배우기 쉽고 간단하고 자바를 배우지 않아도 쉽게 접근이 가능함.
처리 결과를 HTML,XML,DOC 등 사용자의 요청에 맞게 제공할 수 있음.
XHTML이나 기타 스크립트 언어를 경험한 사용자라면 쉽게 JSP를 다룰 수 있음.
서블릿, 스트럿츠, 스프링, EJB 등의 프레젠테이션 로직인 view 영역으로 잘 융합되어 많이 사용하고 있음.
```
프레젠테이션 로직이란? 사용자에게 시각적으로 표시해주는 영역을 뜻함.
비지니스 로직은 사용자에게 보이진 않지만 원하는 값을 도출하기 위한 일련의 로직을 뜻함.

## JSP 문법
---
1. 지시어 <%@ %>  
컴파일이 되어있는지 확인하고 안되어있으면 자바 파일로 
2. 스크립트 요소
선언부
표현식
스크립틀릿
프로젝트 명을 없애는 법

autoFlush

implicit Object : 내장 객체
request
response
out
application
exception

session
pageContext
config
page



서블릿 컨텍스트?